/* 您可以在此添加自己的自定义样式 - 最终版 v7 */

/* ==========================================================================
   内容卡片容器 (About Me 页面)
   ========================================================================== */
.content-card {
    background: var(--card-background);
    border: 1px solid var(--card-border);
    border-radius: var(--card-border-radius);
    padding: 1.5rem 2rem;
    margin-bottom: 2rem;
    transition: transform 0.2s, box-shadow 0.2s;
}

.content-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--card-box-shadow);
}

.content-card-title {
    margin-top: 0;
    padding-bottom: 1rem;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid var(--card-border);
    font-size: 1.5rem;
}

.content-card-body {
    font-size: 16px; 
    line-height: 1.8; 
    color: var(--body-font-color);
}


/* ==========================================================================
   时间线样式 (About Me 页面)
   ========================================================================== */
.timeline {
    position: relative;
    padding: 1rem 0;
    margin-left: 1.25rem;
    border-left: 2px solid var(--card-border);
}
.timeline-item {
    position: relative;
    margin-bottom: 2rem;
    padding-left: 2rem;
}
.timeline-item::before {
    content: '';
    position: absolute;
    left: -9px;
    top: 5px;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--primary-color);
    border: 3px solid var(--body-background);
}
.timeline-item:last-child { margin-bottom: 0; }
.timeline-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 0.25rem;
}
.timeline-title {
    font-size: 1.2em;
    font-weight: 600;
    margin: 0;
}
.timeline-subtitle {
    font-size: 1.1em;
    font-style: italic;
    color: var(--secondary-font-color);
    margin: 0.25rem 0 0.75rem 0;
}
.timeline-date {
    font-size: 0.95em;
    color: var(--secondary-font-color);
}
.timeline-body strong {
    color: var(--title-color);
    font-weight: 600;
    font-size: 1.05em; 
    display: block;   
    margin: 1rem 0 0.5rem 0;
}
.timeline-body { font-size: inherit; }
.timeline-body ul {
    margin-top: 0.75rem;
    list-style-position: outside;
    padding-left: 1.25rem;
}
.timeline-body li { margin-bottom: 0.6rem; }


/* ==========================================================================
   技能墙样式 (About Me 页面)
   ========================================================================== */
.skills-grid {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.skill-card {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: var(--card-background);
    border: 1px solid var(--card-border);
    border-radius: var(--card-border-radius);
    box-shadow: var(--card-box-shadow-flat, none);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.skill-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--card-box-shadow);
}
.skill-category {
    font-weight: 600;
    white-space: nowrap;
    font-size: 1.05em;
}
.skill-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
}
.skill-tag {
    background: var(--tag-background);
    color: var(--tag-color);
    padding: 0.4em 0.8em;
    border-radius: var(--tag-border-radius);
    font-size: 15px;
}

/* ==========================================================================
   链接页面卡片样式 - 支持 Markdown
   ========================================================================== */
.links-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
}
.link-card {
    display: flex;
    flex-direction: column;
    background: var(--card-background);
    border: 1px solid var(--card-border);
    border-left: 1px solid var(--card-border) !important; 
    padding: 1.25rem;
    border-radius: var(--card-border-radius);
    color: var(--body-font-color);
    text-decoration: none !important;
    box-shadow: var(--card-box-shadow-flat, 0 1px 3px rgba(0,0,0,0.05));
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.link-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--card-box-shadow);
}
.link-card h3 {
    margin: 0 0 0.5rem 0;
    color: var(--title-color);
    font-weight: 600;
    font-size: 1.15em;
}

/* --- 新增修改：处理 Markdown 渲染后的样式 --- */
.link-description {
    font-size: 0.9em;
    color: var(--secondary-font-color);
    flex-grow: 1; 
}
.link-description p {
    margin: 0;
}


/* ==========================================================================
   联系方式样式 (About Me 页面)
   ========================================================================== */
.contact-info {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem 2rem;
    padding-bottom: 1rem;
    margin-bottom: -0.5rem;
}

/* ==========================================================================
   EXIF 图库样式 - 居中显示
   ========================================================================== */
.exif-gallery {
    /* --- 核心修改：使用 Flexbox 布局来实现居中 --- */
    display: flex;
    flex-wrap: wrap;
    justify-content: center; /* 水平居中所有卡片 */
    gap: 1.5rem;
}

.gallery-figure {
    margin: 0;
    border-radius: var(--card-border-radius);
    overflow: hidden;
    background: var(--card-background);
    border: 1px solid var(--card-border);
    box-shadow: var(--card-box-shadow-flat, 0 1px 3px rgba(0,0,0,0.05));
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    
    /* --- 新增：为 Flexbox 布局定义项目尺寸 --- */
    flex-basis: 320px; /* 卡片的基础宽度 */
    flex-grow: 1;      /* 允许卡片拉伸以填充额外空间 */
    max-width: 450px;  /* 限制最大宽度，防止单张图片时卡片过宽 */
}

.gallery-figure:hover {
    transform: translateY(-5px);
    box-shadow: var(--card-box-shadow);
}

.gallery-figure img {
    width: 100%;
    height: auto;
    display: block;
}

.gallery-figcaption {
    padding: 1rem 1.25rem;
    font-size: 14px;
}

.caption-title {
    font-size: 1.1em;
    font-weight: 600;
    margin-bottom: 0.75rem;
    color: var(--title-color);
}

.exif-details {
    display: grid;
    grid-template-columns: 1fr 1fr; 
    gap: 0.6rem 1rem;
    color: var(--secondary-font-color);
    line-height: 1.5;
}

.exif-item {
    display: flex;
    align-items: center;
    gap: 0.5em;
}

.exif-item a {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 500;
}

.exif-item a:hover {
    text-decoration: underline;
}

/* ==========================================================================
   自定义数学内容块 (定理、定义、证明)
   ========================================================================== */
.math-block {
    border-radius: var(--card-border-radius);
    padding: 1.25rem 1.5rem;
    margin: 2rem 0;
    box-shadow: var(--card-box-shadow-flat, 0 1px 3px rgba(0,0,0,0.05));
}

.math-block-title {
    font-size: 1.1em;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--title-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.math-block-anchor {
    color: var(--secondary-font-color);
    text-decoration: none;
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
}

.math-block:hover .math-block-anchor {
    opacity: 0.6;
}

.math-block-anchor:hover {
    opacity: 1 !important;
    text-decoration: underline;
}

.math-block-content {
    line-height: 1.7;
}

.math-block-content p:last-child {
    margin-bottom: 0;
}

/* --- 定理样式 (浅蓝色) --- */
.math-block--theorem {
    background-color: #e7f5fe; /* Light blue background */
    border-left: 5px solid #228be6; /* Blue left border */
}

/* --- 定义样式 (浅黄色) --- */
.math-block--definition {
    background-color: #fff9e6; /* Light yellow background */
    border-left: 5px solid #fab005; /* Yellow/orange left border */
}

/* --- 证明样式 (透明带边框) --- */
.math-block--proof {
    background-color: transparent;
    padding: 1.25rem 1.5rem;
    border: 1px solid var(--card-border);
}

.math-block--proof .math-block-content {
    display: inline; /* 让证明内容和标题在同一行开始 */
}

.math-block--proof em strong {
    font-style: italic;
    font-weight: 600;
}

/* 证明结束符号 (Q.E.D.) */
.qed-symbol {
    float: right;
    font-size: 1.2em;
    line-height: 1;
    color: var(--secondary-font-color);
}