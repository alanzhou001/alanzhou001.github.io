{{- define "main" -}}
    <article class="main-content">
        <header class="main-content-header">
            <h1>{{ .Title }}</h1>
            {{- with .Params.description -}}
            <p>{{ . }}</p>
            {{- end -}}
        </header>
        
        {{/* --- 最终解决方案：通过文件路径进行更精确的过滤 --- */}}
        {{- $pages := slice -}}
        {{- range site.RegularPages -}}
            {{/* 我们只将位于 "post/" 目录下的页面添加到列表中 */}}
            {{- if (eq .Section "post") -}}
                {{- $pages = $pages | append . -}}
            {{- end -}}
        {{- end -}}

        {{- if $pages -}}
            {{- $groupedPages := $pages.GroupByDate "2006" -}}
            {{- range $groupedPages -}}
                <div class="archive">
                    <h2 class="archive-year">{{ .Key }}</h2>
                    {{- range .Pages -}}
                        <div class="archive-post">
                            <h3 class="archive-post-title">
                                <a href="{{ .Permalink }}">{{ .Title }}</a>
                            </h3>
                            <div class="archive-post-meta">
                                <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
                                    {{ .Date.Format (.Site.Params.dateFormat.published | default "Jan 02, 2006") }}
                                </time>
                            </div>
                        </div>
                    {{- end -}}
                </div>
            {{- end -}}
        {{- end -}}
    </article>
{{- end -}}
